{"remainingRequest":"/Users/haojianie/Desktop/Web/rppg-master/node_modules/babel-loader/lib/index.js!/Users/haojianie/Desktop/Web/rppg-master/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/haojianie/Desktop/Web/rppg-master/src/components/AttentionMask.js","dependencies":[{"path":"/Users/haojianie/Desktop/Web/rppg-master/src/components/AttentionMask.js","mtime":1597616869392},{"path":"/Users/haojianie/Desktop/Web/rppg-master/node_modules/cache-loader/dist/cjs.js","mtime":1597616075057},{"path":"/Users/haojianie/Desktop/Web/rppg-master/node_modules/babel-loader/lib/index.js","mtime":1597616074968},{"path":"/Users/haojianie/Desktop/Web/rppg-master/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1597616074257}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvaGFvamlhbmllL0Rlc2t0b3AvV2ViL3JwcGctbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2hhb2ppYW5pZS9EZXNrdG9wL1dlYi9ycHBnLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2dldCBmcm9tICIvVXNlcnMvaGFvamlhbmllL0Rlc2t0b3AvV2ViL3JwcGctbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXQiOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIi9Vc2Vycy9oYW9qaWFuaWUvRGVza3RvcC9XZWIvcnBwZy1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvaGFvamlhbmllL0Rlc2t0b3AvV2ViL3JwcGctbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL2hhb2ppYW5pZS9EZXNrdG9wL1dlYi9ycHBnLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9oYW9qaWFuaWUvRGVza3RvcC9XZWIvcnBwZy1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICogYXMgdGYgZnJvbSAnQHRlbnNvcmZsb3cvdGZqcyc7CmV4cG9ydCB2YXIgQXR0ZW50aW9uTWFzayA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX3RmJGxheWVycyRMYXllcikgewogIF9pbmhlcml0cyhBdHRlbnRpb25NYXNrLCBfdGYkbGF5ZXJzJExheWVyKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihBdHRlbnRpb25NYXNrKTsKCiAgZnVuY3Rpb24gQXR0ZW50aW9uTWFzayhjb25maWcpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdHRlbnRpb25NYXNrKTsKCiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKTsKICB9CgogIF9jcmVhdGVDbGFzcyhBdHRlbnRpb25NYXNrLCBbewogICAga2V5OiAiY29tcHV0ZU91dHB1dFNoYXBlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wdXRlT3V0cHV0U2hhcGUoaW5wdXRTaGFwZSkgewogICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCiAgICAgIGNvbnNvbGUubG9nKGlucHV0U2hhcGUpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLm5hbWUpOwogICAgICB0aGlzLmlucHV0U2hhcGUgPSBpbnB1dFNoYXBlOwogICAgICB2YXIgayA9IGlucHV0U2hhcGUuc2xpY2UoMCwgMyk7CiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi8KCiAgICAgIGNvbnNvbGUubG9nKGtbMV0sIDEpOwogICAgICByZXR1cm4gW2tbMF0sIGtbMV0sIGtbMl0sIDFdOwogICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKCiAgfSwgewogICAga2V5OiAiY2FsbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsbChpbnB1dHMsIGt3YXJncykgewogICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCiAgICAgIC8vCWNvbnNvbGUubG9nKHRoaXMuaW5wdXRTaGFwZSkKICAgICAgY29uc29sZS5sb2codGhpcy5uYW1lKTsKICAgICAgY29uc29sZS5sb2coaW5wdXRzKTsKICAgICAgdmFyIGlucHV0ID0gaW5wdXRzOwogICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCiAgICAgIC8vdGhpcy5pbnZva2VDYWxsSG9vayhpbnB1dHMsIGt3YXJncyk7CgogICAgICB2YXIgaW5wdXRTdW0gPSB0Zi5zdW0oaW5wdXQsIDEsIDEpOwogICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCgogICAgICBpbnB1dFN1bS5wcmludCgxKTsKICAgICAgaW5wdXRTdW0gPSB0Zi5zdW0oaW5wdXRTdW0sIDIsIDEpOwogICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCgogICAgICBjb25zb2xlLmxvZygiaW5zaWRlIGNhbGwiKTsKICAgICAgdmFyIG91dCA9IGlucHV0LmRpdihpbnB1dFN1bSkubXVsKDAuNSk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q29uZmlnIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25maWcoKSB7CiAgICAgIHZhciBjb25maWcgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihBdHRlbnRpb25NYXNrLnByb3RvdHlwZSksICJnZXRDb25maWciLCB0aGlzKS5jYWxsKHRoaXMpOwoKICAgICAgcmV0dXJuIGNvbmZpZzsKICAgIH0KICB9XSwgW3sKICAgIGtleTogImdldENsYXNzTmFtZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKCkgewogICAgICByZXR1cm4gJ0F0dGVudGlvbk1hc2snOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEF0dGVudGlvbk1hc2s7Cn0odGYubGF5ZXJzLkxheWVyKTsKCl9kZWZpbmVQcm9wZXJ0eShBdHRlbnRpb25NYXNrLCAiY2xhc3NOYW1lIiwgJ0F0dGVudGlvbk1hc2snKTsKCkF0dGVudGlvbk1hc2suY2xhc3NOYW1lID0gJ0F0dGVudGlvbk1hc2snOyAvLyBzdGF0aWMgdmFyaWFibGU="},{"version":3,"sources":["/Users/haojianie/Desktop/Web/rppg-master/src/components/AttentionMask.js"],"names":["tf","AttentionMask","config","inputShape","console","log","name","k","slice","inputs","kwargs","input","inputSum","sum","print","out","div","mul","layers","Layer","className"],"mappings":";;;;;;;;;AAAA,OAAO,KAAKA,EAAZ,MAAoB,kBAApB;AAGA,WAAaC,aAAb;AAAA;;AAAA;;AAEC,yBAAYC,MAAZ,EAAoB;AAAA;;AAAA,6BACbA,MADa;AAEnB;;AAJF;AAAA;AAAA,uCAMoBC,UANpB,EAMgC;AAC9B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,IAAjB;AACA,WAAKH,UAAL,GAAkBA,UAAlB;AACA,UAAII,CAAC,GAAGJ,UAAU,CAACK,KAAX,CAAiB,CAAjB,EAAoB,CAApB,CAAR;AACA;;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYE,CAAC,CAAC,CAAD,CAAb,EAAkB,CAAlB;AACA,aAAO,CAACA,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAR,EAAaA,CAAC,CAAC,CAAD,CAAd,EAAmB,CAAnB,CAAP;AACA,KAfF,CAiBC;;AAjBD;AAAA;AAAA,yBAkBME,MAlBN,EAkBcC,MAlBd,EAkBsB;AACpB;AACD;AACCN,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,IAAjB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYI,MAAZ;AACA,UAAIE,KAAK,GAAGF,MAAZ;AAEA;AACA;;AACA,UAAIG,QAAQ,GAAGZ,EAAE,CAACa,GAAH,CAAOF,KAAP,EAAc,CAAd,EAAiB,CAAjB,CAAf;AACA;;AACAC,MAAAA,QAAQ,CAACE,KAAT,CAAe,CAAf;AACAF,MAAAA,QAAQ,GAAGZ,EAAE,CAACa,GAAH,CAAOD,QAAP,EAAiB,CAAjB,EAAoB,CAApB,CAAX;AACA;;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,UAAIU,GAAG,GAAGJ,KAAK,CAACK,GAAN,CAAUJ,QAAV,EAAoBK,GAApB,CAAwB,GAAxB,CAAV;AACA,aAAOF,GAAP;AACA;AAnCF;AAAA;AAAA,gCAqCa;AACX,UAAMb,MAAM,+EAAZ;;AACA,aAAOA,MAAP;AACA;AAxCF;AAAA;AAAA,mCA0CuB;AACrB,aAAO,eAAP;AACA;AA5CF;;AAAA;AAAA,EAAmCF,EAAE,CAACkB,MAAH,CAAUC,KAA7C;;gBAAalB,a,eACO,e;;AA8CpBA,aAAa,CAACmB,SAAd,GAA0B,eAA1B,C,CAA2C","sourcesContent":["import * as tf from '@tensorflow/tfjs';\r\n\r\n\r\nexport class AttentionMask extends tf.layers.Layer {\r\n\tstatic className = 'AttentionMask';\r\n\tconstructor(config) {\r\n\t\tsuper(config);\r\n\t}\r\n\r\n\tcomputeOutputShape(inputShape) {\n\t\t/* eslint-disable no-console */\n\t\tconsole.log(inputShape)\n\t\tconsole.log(this.name)\n\t\tthis.inputShape = inputShape;\r\n\t\tvar k = inputShape.slice(0, 3);\r\n\t\t/* eslint-disable no-console */\r\n\t\tconsole.log(k[1], 1)\r\n\t\treturn [k[0], k[1], k[2], 1];\r\n\t}\r\n\r\n\t// eslint-disable-next-line\r\n\tcall(inputs, kwargs) {\n\t\t/* eslint-disable no-console */\n\t//\tconsole.log(this.inputShape)\n\t\tconsole.log(this.name)\n\t\tconsole.log(inputs);\n\t\tvar input = inputs;\n\t\t\r\n\t\t/* eslint-disable no-console */\n\t\t//this.invokeCallHook(inputs, kwargs);\r\n\t\tvar inputSum = tf.sum(input, 1, 1);\r\n\t\t/* eslint-disable no-console */\r\n\t\tinputSum.print(1);\r\n\t\tinputSum = tf.sum(inputSum, 2, 1);\r\n\t\t/* eslint-disable no-console */\r\n\t\tconsole.log(\"inside call\");\n\t\tvar out = input.div(inputSum).mul(0.5);\n\t\treturn out;\r\n\t}\r\n\r\n\tgetConfig() {\r\n\t\tconst config = super.getConfig();\r\n\t\treturn config;\r\n\t}\r\n\r\n\tstatic getClassName() {\r\n\t\treturn 'AttentionMask';\r\n\t}\r\n}\n\nAttentionMask.className = 'AttentionMask'; // static variable\n"]}]}