{"remainingRequest":"/Users/haojianie/Desktop/Web/rppg-master/node_modules/babel-loader/lib/index.js!/Users/haojianie/Desktop/Web/rppg-master/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/haojianie/Desktop/Web/rppg-master/src/components/AttentionMask.js","dependencies":[{"path":"/Users/haojianie/Desktop/Web/rppg-master/src/components/AttentionMask.js","mtime":1597702447470},{"path":"/Users/haojianie/Desktop/Web/rppg-master/node_modules/cache-loader/dist/cjs.js","mtime":1597616075057},{"path":"/Users/haojianie/Desktop/Web/rppg-master/node_modules/babel-loader/lib/index.js","mtime":1597616074968},{"path":"/Users/haojianie/Desktop/Web/rppg-master/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1597616074257}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL2hhb2ppYW5pZS9EZXNrdG9wL1dlYi9ycHBnLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9oYW9qaWFuaWUvRGVza3RvcC9XZWIvcnBwZy1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9nZXQgZnJvbSAiL1VzZXJzL2hhb2ppYW5pZS9EZXNrdG9wL1dlYi9ycHBnLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0IjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICIvVXNlcnMvaGFvamlhbmllL0Rlc2t0b3AvV2ViL3JwcGctbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2hhb2ppYW5pZS9EZXNrdG9wL1dlYi9ycHBnLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9oYW9qaWFuaWUvRGVza3RvcC9XZWIvcnBwZy1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvaGFvamlhbmllL0Rlc2t0b3AvV2ViL3JwcGctbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAqIGFzIHRmIGZyb20gJ0B0ZW5zb3JmbG93L3RmanMnOwpleHBvcnQgdmFyIEF0dGVudGlvbk1hc2sgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF90ZiRsYXllcnMkTGF5ZXIpIHsKICBfaW5oZXJpdHMoQXR0ZW50aW9uTWFzaywgX3RmJGxheWVycyRMYXllcik7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQXR0ZW50aW9uTWFzayk7CgogIGZ1bmN0aW9uIEF0dGVudGlvbk1hc2soY29uZmlnKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXR0ZW50aW9uTWFzayk7CgogICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXR0ZW50aW9uTWFzaywgW3sKICAgIGtleTogImNvbXB1dGVPdXRwdXRTaGFwZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcHV0ZU91dHB1dFNoYXBlKGlucHV0U2hhcGUpIHsKICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLwogICAgICBjb25zb2xlLmxvZyhpbnB1dFNoYXBlKTsKICAgICAgY29uc29sZS5sb2codGhpcy5uYW1lKTsKICAgICAgdGhpcy5pbnB1dFNoYXBlID0gaW5wdXRTaGFwZTsKICAgICAgcmV0dXJuIFtpbnB1dFNoYXBlWzBdLCBpbnB1dFNoYXBlWzFdLCBpbnB1dFNoYXBlWzJdLCBpbnB1dFNoYXBlWzNdXTsKICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCgogIH0sIHsKICAgIGtleTogImNhbGwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGwoaW5wdXRzLCBrd2FyZ3MpIHsKICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLwogICAgICB2YXIgaW5wdXQgPSBpbnB1dHNbMF07CiAgICAgIGNvbnNvbGUubG9nKGlucHV0c1swXS5zaGFwZSk7CiAgICAgIGNvbnNvbGUubG9nKGlucHV0c1swXS5wcmludCgxKSk7CiAgICAgIGNvbnNvbGUubG9nKGlucHV0KTsKICAgICAgdmFyIGlucHV0U3VtID0gdGYuc3VtKGlucHV0LCAxLCAxKTsKICAgICAgaW5wdXRTdW0ucHJpbnQoMSk7CiAgICAgIGlucHV0U3VtLnByaW50KDEpOwogICAgICBpbnB1dFN1bSA9IHRmLnN1bShpbnB1dFN1bSwgMiwgMSk7CiAgICAgIHZhciBvdXQgPSBpbnB1dC5kaXYoaW5wdXRTdW0pLm11bCgwLjUpOwogICAgICByZXR1cm4gb3V0OwogICAgfQogIH0sIHsKICAgIGtleTogImdldENvbmZpZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29uZmlnKCkgewogICAgICB2YXIgY29uZmlnID0gX2dldChfZ2V0UHJvdG90eXBlT2YoQXR0ZW50aW9uTWFzay5wcm90b3R5cGUpLCAiZ2V0Q29uZmlnIiwgdGhpcykuY2FsbCh0aGlzKTsKCiAgICAgIHJldHVybiBjb25maWc7CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJnZXRDbGFzc05hbWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENsYXNzTmFtZSgpIHsKICAgICAgcmV0dXJuICdBdHRlbnRpb25NYXNrJzsKICAgIH0KICB9XSk7CgogIHJldHVybiBBdHRlbnRpb25NYXNrOwp9KHRmLmxheWVycy5MYXllcik7CgpfZGVmaW5lUHJvcGVydHkoQXR0ZW50aW9uTWFzaywgImNsYXNzTmFtZSIsICdBdHRlbnRpb25NYXNrJyk7CgpBdHRlbnRpb25NYXNrLmNsYXNzTmFtZSA9ICdBdHRlbnRpb25NYXNrJzsgLy8gc3RhdGljIHZhcmlhYmxl"},{"version":3,"sources":["/Users/haojianie/Desktop/Web/rppg-master/src/components/AttentionMask.js"],"names":["tf","AttentionMask","config","inputShape","console","log","name","inputs","kwargs","input","shape","print","inputSum","sum","out","div","mul","layers","Layer","className"],"mappings":";;;;;;;;AAAA,OAAO,KAAKA,EAAZ,MAAoB,kBAApB;AAEA,WAAaC,aAAb;AAAA;;AAAA;;AAEC,yBAAYC,MAAZ,EAAoB;AAAA;;AAAA,6BACbA,MADa;AAEnB;;AAJF;AAAA;AAAA,uCAMoBC,UANpB,EAMgC;AAC9B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,IAAjB;AACA,WAAKH,UAAL,GAAkBA,UAAlB;AACA,aAAO,CAACA,UAAU,CAAC,CAAD,CAAX,EAAgBA,UAAU,CAAC,CAAD,CAA1B,EAA+BA,UAAU,CAAC,CAAD,CAAzC,EAA8CA,UAAU,CAAC,CAAD,CAAxD,CAAP;AACA,KAZF,CAcC;;AAdD;AAAA;AAAA,yBAeMI,MAfN,EAecC,MAfd,EAesB;AACpB;AACA,UAAIC,KAAK,GAAGF,MAAM,CAAC,CAAD,CAAlB;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYE,MAAM,CAAC,CAAD,CAAN,CAAUG,KAAtB;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAYE,MAAM,CAAC,CAAD,CAAN,CAAUI,KAAV,CAAgB,CAAhB,CAAZ;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AAEA,UAAIG,QAAQ,GAAGZ,EAAE,CAACa,GAAH,CAAOJ,KAAP,EAAc,CAAd,EAAiB,CAAjB,CAAf;AACAG,MAAAA,QAAQ,CAACD,KAAT,CAAe,CAAf;AACAC,MAAAA,QAAQ,CAACD,KAAT,CAAe,CAAf;AACAC,MAAAA,QAAQ,GAAGZ,EAAE,CAACa,GAAH,CAAOD,QAAP,EAAiB,CAAjB,EAAoB,CAApB,CAAX;AACA,UAAIE,GAAG,GAAGL,KAAK,CAACM,GAAN,CAAUH,QAAV,EAAoBI,GAApB,CAAwB,GAAxB,CAAV;AAEA,aAAOF,GAAP;AACA;AA7BF;AAAA;AAAA,gCA+Ba;AACX,UAAMZ,MAAM,+EAAZ;;AACA,aAAOA,MAAP;AACA;AAlCF;AAAA;AAAA,mCAoCuB;AACrB,aAAO,eAAP;AACA;AAtCF;;AAAA;AAAA,EAAmCF,EAAE,CAACiB,MAAH,CAAUC,KAA7C;;gBAAajB,a,eACO,e;;AAwCpBA,aAAa,CAACkB,SAAd,GAA0B,eAA1B,C,CAA2C","sourcesContent":["import * as tf from '@tensorflow/tfjs';\r\n\r\nexport class AttentionMask extends tf.layers.Layer {\r\n\tstatic className = 'AttentionMask';\r\n\tconstructor(config) {\r\n\t\tsuper(config);\r\n\t}\r\n\r\n\tcomputeOutputShape(inputShape) {\n\t\t/* eslint-disable no-console */\n\t\tconsole.log(inputShape)\n\t\tconsole.log(this.name)\n\t\tthis.inputShape = inputShape;\r\n\t\treturn [inputShape[0], inputShape[1], inputShape[2], inputShape[3]];\r\n\t}\r\n\r\n\t// eslint-disable-next-line\r\n\tcall(inputs, kwargs) {\n\t\t/* eslint-disable no-console */\n\t\tvar input = inputs[0];\n\t\tconsole.log(inputs[0].shape);\n\t\tconsole.log(inputs[0].print(1));\n\t\tconsole.log(input);\n\t\t\r\n\t\tvar inputSum = tf.sum(input, 1, 1);\n\t\tinputSum.print(1);\r\n\t\tinputSum.print(1);\r\n\t\tinputSum = tf.sum(inputSum, 2, 1);\n\t\tvar out = input.div(inputSum).mul(0.5);\n\t\t\n\t\treturn out;\r\n\t}\r\n\r\n\tgetConfig() {\r\n\t\tconst config = super.getConfig();\r\n\t\treturn config;\r\n\t}\r\n\r\n\tstatic getClassName() {\r\n\t\treturn 'AttentionMask';\r\n\t}\r\n}\n\nAttentionMask.className = 'AttentionMask'; // static variable\n"]}]}